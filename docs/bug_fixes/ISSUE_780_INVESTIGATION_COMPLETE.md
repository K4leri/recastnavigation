# üéØ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è Issue #780: 64-bit PolyRef Support

## üìã –ò—Ç–æ–≥ —Ä–∞–±–æ—Ç—ã

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–æ
–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ GitHub Issue #780: "64-bit PolyRef Support" –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–æ —Å–æ –≤—Å–µ–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –∞–Ω–∞–ª–∏–∑–∞–º–∏, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é.

## üîç –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã
- ‚úÖ –ù–∞–π–¥–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —á–µ—Ä–µ–∑ –∞–Ω–∞–ª–∏–∑ git –∫–æ–º–º–∏—Ç–æ–≤ (034fbbc, 35df0bf, 7c951a4)
- ‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –±–∞–≥ –≤ C++ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å 32-bit –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏
- ‚úÖ –ù–∞–π–¥–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –≤ Zig —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ u32 PolyRef)
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏

### 2. –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
- ‚úÖ –°–æ–∑–¥–∞–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã
- ‚úÖ –ü–æ–∫–∞–∑–∞–Ω–æ 16,384x —Ä–∞–∑–ª–∏—á–∏–µ –≤ –µ–º–∫–æ—Å—Ç–∏ –º–µ–∂–¥—É 32-bit –∏ 64-bit
- ‚úÖ –†–∞—Å—Å—á–∏—Ç–∞–Ω—ã —Ä–µ–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: Zig –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –º–∏—Ä—ã 16x16 –∫–º
- ‚úÖ –î–æ–∫–∞–∑–∞–Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å 64-bit –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

### 3. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
- ‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω—ã –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (–æ—Ç –∏–Ω–¥–∏-–∏–≥—Ä –¥–æ –º–∞—Å—à—Ç–∞–±–∞ –ó–µ–º–ª–∏)
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏
- ‚úÖ –ü–æ–∫–∞–∑–∞–Ω–∞ –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –∏–∑ C++ 64-bit

### 4. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ—à–µ–Ω–∏–π
- ‚úÖ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–µ—à–µ–Ω–∏—è:
  - **–í–∞—Ä–∏–∞–Ω—Ç A:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 64-bit PolyRef (–æ—Å–Ω–æ–≤–Ω–æ–π)
  - **–í–∞—Ä–∏–∞–Ω—Ç B:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è 32-bit —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
  - **–í–∞—Ä–∏–∞–Ω—Ç C:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
1. **[–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑](../../../dev/tests/issue_780_polyref_analysis.md)** - –ü–æ–ª–Ω—ã–π –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
2. **[–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã](../../../dev/tests/test_issue_780_simple.zig)** - –†–∞–±–æ—á–∏–µ —Ç–µ—Å—Ç—ã
3. **[–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑](../../../dev/tests/analyze_issue_780_polyref.zig)** - –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –∫–æ–¥–æ–º
4. **[–ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç](ISSUE_780_INVESTIGATION_COMPLETE.md)** - –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

### –ü—Ä–æ–±–ª–µ–º–∞
–¢–µ–∫—É—â–∞—è Zig —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ `src/detour/common.zig`:
```zig
pub const PolyRef = u32;  // ‚ùå –¢–û–õ–¨–ö–û 32-BIT!
```

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **Max —Ç–∞–π–ª—ã:** 16,383 (14 –±–∏—Ç)
- **Max –ø–æ–ª–∏–≥–æ–Ω—ã/—Ç–∞–π–ª:** 1,023 (10 –±–∏—Ç)
- **–û–±—â–∏–π –º–∞–∫—Å–∏–º—É–º:** 16,777,216 –ø–æ–ª–∏–≥–æ–Ω–æ–≤
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –º–∏—Ä:** 16.4x16.4 –∫–º¬≤

### C++ 64-bit —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **Max —Ç–∞–π–ª—ã:** 268,435,455 (28 –±–∏—Ç)
- **Max –ø–æ–ª–∏–≥–æ–Ω—ã/—Ç–∞–π–ª:** 1,048,575 (20 –±–∏—Ç)
- **–û–±—â–∏–π –º–∞–∫—Å–∏–º—É–º:** 2.81√ó10¬π‚Å¥ –ø–æ–ª–∏–≥–æ–Ω–æ–≤
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –º–∏—Ä:** 268,435x268,435 –∫–º¬≤

### –†–∞–∑–Ω–∏—Ü–∞ –≤ –µ–º–∫–æ—Å—Ç–∏
- **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø–æ —Ç–∞–π–ª–∞–º:** 16,384x
- **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø–æ –ø–æ–ª–∏–≥–æ–Ω–∞–º:** 1,024x
- **–û–±—â–µ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ:** 16,777,216x
- **–ú–∞—Å—à—Ç–∞–±:** –æ—Ç –≥–æ—Ä–æ–¥–∞ –¥–æ —Ä–∞–∑–º–µ—Ä–∞ –ø–ª–∞–Ω–µ—Ç—ã!

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
| –°—Ü–µ–Ω–∞—Ä–∏–π | –¢–∞–π–ª–æ–≤ | –ü–æ–ª–∏–≥–æ–Ω–æ–≤/—Ç–∞–π–ª | –í—Å–µ–≥–æ –ø–æ–ª–∏–≥–æ–Ω–æ–≤ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|----------|--------|----------------|-----------------|-----------|
| –ò–Ω–¥–∏-–∏–≥—Ä–∞ | 100 | 500 | 50,000 | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| RPG | 1,000 | 800 | 800,000 | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| MMORPG | 16,000 | 1,000 | 16,000,000 | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| –ü–ª–∞–Ω–µ—Ç–∞—Ä–Ω—ã–π | 100,000 | 2,000 | 200,000,000 | ‚ùå –¢—Ä–µ–±—É–µ—Ç—Å—è 11x |
| –ó–µ–º–ª—è (1:1) | 510,000,000 | 500 | 255,000,000,000 | ‚ùå –¢—Ä–µ–±—É–µ—Ç—Å—è 15,214x |

### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º
```
–ü—Ä–æ–±–ª–µ–º–∞ 1: –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–π–ª–æ–≤
- –ó–∞–ø—Ä–æ—Å: 100,000 —Ç–∞–π–ª–æ–≤
- –ú–∞–∫—Å–∏–º—É–º Zig: 16,383 —Ç–∞–π–ª–æ–≤
- –¢—Ä–µ–±—É–µ—Ç—Å—è: 6x –±–æ–ª—å—à–µ

–ü—Ä–æ–±–ª–µ–º–∞ 2: –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª–∏–≥–æ–Ω–æ–≤
- –ó–∞–ø—Ä–æ—Å: 5,000 –ø–æ–ª–∏–≥–æ–Ω–æ–≤/—Ç–∞–π–ª
- –ú–∞–∫—Å–∏–º—É–º Zig: 1,023 –ø–æ–ª–∏–≥–æ–Ω–æ–≤/—Ç–∞–π–ª
- –¢—Ä–µ–±—É–µ—Ç—Å—è: 4x –±–æ–ª—å—à–µ

–ü—Ä–æ–±–ª–µ–º–∞ 3: –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
- C++ 64-bit ref: 0x123456789ABCDEF0
- Zig u32 ref:    0x9ABCDEF0 (–æ–±—Ä–µ–∑–∞–Ω–æ!)
- –ü–æ—Ç–µ—Ä—è: —Å—Ç–∞—Ä—à–∏–µ 32 –±–∏—Ç–∞!
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç A: –û—Å–Ω–æ–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
```zig
pub const POLYREF64 = true;  // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏

pub const PolyRef = if (POLYREF64) u64 else u32;

pub fn encodePolyId(self: *const Self, salt: u32, it: u32, ip: u32) PolyRef {
    if (POLYREF64) {
        // 64-bit —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
        const salt_bits: u6 = 16;
        const tile_bits: u6 = 28;
        const poly_bits: u6 = 20;

        const salt_mask = (@as(PolyRef, 1) << salt_bits) - 1;
        const tile_mask = (@as(PolyRef, 1) << tile_bits) - 1;
        const poly_mask = (@as(PolyRef, 1) << poly_bits) - 1;

        return (@as(PolyRef, salt) & salt_mask) << (tile_bits + poly_bits) |
               (@as(PolyRef, it) & tile_mask) << poly_bits |
               (@as(PolyRef, ip) & poly_mask);
    } else {
        // –¢–µ–∫—É—â–∞—è 32-bit —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
        const salt_bits: u6 = 8;
        const tile_bits: u6 = 14;
        const poly_bits: u6 = 10;
        // ... —Ç–µ–∫—É—â–∏–π –∫–æ–¥
    }
}
```

### –ë–∏—Ç–æ–≤–∞—è —Ä–∞—Å–∫–ª–∞–¥–∫–∞ 64-bit
```
63.............48.....20....8.....0 (–±–∏—Ç)
[    salt    ][  tile ][poly][ unused]
- Salt: 16 –±–∏—Ç (max: 65,535)
- Tile: 28 –±–∏—Ç (max: 268,435,455)
- Poly: 20 –±–∏—Ç (max: 1,048,575)
```

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–ü–∞–º—è—Ç—å:** +100% (—Å 4 –¥–æ 8 –±–∞–π—Ç –Ω–∞ PolyRef)
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** +16,777,216x
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** 100% —Å C++ 64-bit —Ä–µ–∂–∏–º–æ–º
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** 100% —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

### –ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å
- ‚úÖ –ú–∞–ª—ã–µ –∏–≥—Ä—ã (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- ‚úÖ –°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç—ã (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- ‚úÖ –ö—Ä—É–ø–Ω—ã–µ MMORPG (—Ç—Ä–µ–±—É–µ—Ç—Å—è 64-bit)
- ‚úÖ –ü–ª–∞–Ω–µ—Ç–∞—Ä–Ω—ã–µ —Å–∏–º—É–ª—è—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ 64-bit)
- ‚úÖ –ù–∞—É—á–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã (—Ç–æ–ª—å–∫–æ 64-bit)

## üöÄ –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1-2 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
2. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `POLYREF64`
3. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–æ–≤

### –≠—Ç–∞–ø 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (3-5 –¥–Ω–µ–π)
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å 64-bit –≤–µ—Ä—Å–∏–∏ encodePolyId/decodePolyId
2. –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å PolyRef
3. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### –≠—Ç–∞–ø 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2-3 –¥–Ω—è)
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –≤ 32-bit —Ä–µ–∂–∏–º–µ
2. –°–æ–∑–¥–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è 64-bit —Ä–µ–∂–∏–º–∞
3. –ü—Ä–æ–≤–µ—Å—Ç–∏ performance —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –≠—Ç–∞–ø 4: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (1 –¥–µ–Ω—å)
1. –û–±–Ω–æ–≤–∏—Ç—å API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
2. –°–æ–∑–¥–∞—Ç—å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
3. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞ | ~3 —á–∞—Å–∞ |
| –°–æ–∑–¥–∞–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ | 4 –æ—Å–Ω–æ–≤–Ω—ã—Ö + 3 —Ç–µ—Å—Ç–æ–≤—ã—Ö |
| –ù–∞–π–¥–µ–Ω–æ –ø—Ä–æ–±–ª–µ–º | 5 –∫–ª—é—á–µ–≤—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π |
| –¢–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ | 5 (–æ—Ç –∏–Ω–¥–∏ –¥–æ –ø–ª–∞–Ω–µ—Ç–∞—Ä–Ω–æ–≥–æ) |
| –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –≤–∞—Ä–∏–∞–Ω—Ç | –í–∞—Ä–∏–∞–Ω—Ç A (64-bit –ø–æ–¥–¥–µ—Ä–∂–∫–∞) |
| –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∞ | 16,777,216x |

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ Issue #780 –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–æ. –ü—Ä–æ–±–ª–µ–º–∞ **–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞**:

**Zig —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è RecastNavigation –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ 32-bit PolyRef, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–µ –Ω–µ–ø—Ä–∏–≥–æ–¥–Ω–æ–π –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π —Å C++ 64-bit —Ä–µ–∂–∏–º–æ–º.**

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–≤–æ–¥—ã:
1. **–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –º–∏—Ä–∞–º–∏ 16x16 –∫–º¬≤**
2. **C++ –≤–µ—Ä—Å–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–∏—Ä—ã —Ä–∞–∑–º–µ—Ä–æ–º —Å –ø–ª–∞–Ω–µ—Ç—É**
3. **–†–∞–∑–Ω–∏—Ü–∞ –≤ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏: 16 –º–∏–ª–ª–∏–æ–Ω–æ–≤ —Ä–∞–∑**
4. **–ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –∏–∑ C++ 64-bit**
5. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –±—É–¥—É—â–µ–π –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏**

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:
**–ù–ï–ú–ï–î–õ–ï–ù–ù–û —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç A** –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ 64-bit PolyRef —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–±–æ—Ä–∫–∏.

**–≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ Zig-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.** üöÄ

---

*–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Å–æ–≥–ª–∞—Å–Ω–æ —Ä–æ–ª–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—è-—Ç–µ–æ—Ä–µ—Ç–∏–∫–∞ —Å –ø–æ–ª–Ω—ã–º –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏ –∏ –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é.*